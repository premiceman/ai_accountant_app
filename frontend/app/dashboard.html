<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard · AI Accountant</title>
  <link rel="stylesheet" href="/app/css/app.css" />
  <script defer src="/app/js/app.js"></script>
  <script defer src="/app/js/dashboard.js"></script>
</head>
<body>
  <div class="app-shell">
    <nav>
      <h1>AI ACCOUNTANT</h1>
      <a data-nav="dashboard" href="/app/dashboard">Dashboard</a>
      <a data-nav="vault" href="/app/document-vault">Document Vault</a>
      <a data-nav="profile" href="/app/profile">Profile</a>
      <button class="signout" type="button" data-action="signout">Sign out</button>
    </nav>
    <main>
      <div class="page-header">
        <div>
          <span class="badge">Financial overview</span>
          <h2 data-user-name>—</h2>
          <p class="subtitle">Timeseries analytics generated from your processed payslips and bank statements.</p>
        </div>
      </div>

      <section class="card analytics-card">
        <div class="panel-header">
          <div>
            <h3>Dashboard</h3>
            <p class="subtitle">Track income, spend, cashflow, and net worth trends over time.</p>
          </div>
          <div>
            <span class="badge" id="dashboard-months">No data yet</span>
          </div>
        </div>
        <div class="analytics-loading" id="dashboard-loading" hidden>
          <span class="loading-spinner" aria-hidden="true"></span>
          <span>Loading analytics…</span>
        </div>
        <div class="summary-grid" id="dashboard-summary"></div>
        <p class="empty-indicator" id="dashboard-empty" hidden>No analytics are available yet. Upload documents to unlock the dashboard.</p>
      </section>

      <div class="card-grid">
        <section class="card">
          <div class="panel-header">
            <div>
              <h3>Cashflow over time</h3>
              <p class="subtitle">Income, spend, and net cashflow by month.</p>
            </div>
          </div>
          <div class="table-wrapper">
            <table class="table" id="cashflow-table">
              <thead>
                <tr>
                  <th scope="col">Month</th>
                  <th scope="col">Income</th>
                  <th scope="col">Spend</th>
                  <th scope="col">Net cashflow</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <p class="empty-indicator" id="cashflow-empty" hidden>No cashflow data yet.</p>
        </section>

        <section class="card">
          <div class="panel-header">
            <div>
              <h3>Net worth trend</h3>
              <p class="subtitle">Total closing balances across all statements per month.</p>
            </div>
          </div>
          <div class="table-wrapper">
            <table class="table" id="networth-table">
              <thead>
                <tr>
                  <th scope="col">Month</th>
                  <th scope="col">Total balance</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <p class="empty-indicator" id="networth-empty" hidden>No net worth data yet.</p>
        </section>
      </div>

      <div class="card-grid">
        <section class="card">
          <div class="panel-header">
            <div>
              <h3>Top spending categories</h3>
              <p class="subtitle">Largest outgoings grouped by category across all months.</p>
            </div>
          </div>
          <div class="table-wrapper">
            <table class="table" id="category-table">
              <thead>
                <tr>
                  <th scope="col">Category</th>
                  <th scope="col">Total spend</th>
                  <th scope="col">Share</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
          <p class="empty-indicator" id="category-empty" hidden>No spending categories available yet.</p>
        </section>

        <section class="card" id="insights-card">
          <div class="panel-header">
            <div>
              <h3>AI insights</h3>
              <p class="subtitle">OpenAI-generated commentary based on your uploaded documents.</p>
            </div>
          </div>
          <div class="insights-body" id="insights-body">
            <p class="empty-indicator">Insights will appear here once analytics are available.</p>
          </div>
        </section>
      </div>
    </main>
  </div>
</body>
</html>
