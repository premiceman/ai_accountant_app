/* ==========================================================================
   AI Accountant • styles.css  (Option B — Glacier Mint)
   LIGHT THEME • airy, modern, mint accent
   --------------------------------------------------------------------------
   PALETTE
   -- Background        #F6FAF9
   -- Surface           #FFFFFF
   -- Surface Elevated  #F9FCFB
   -- Border/Hairline   #E3EEE9
   -- Text Primary      #0C1520
   -- Text Secondary    #63727E
   -- Brand / Primary   #00C2A8
   -- Brand Hover       #00B39B
   -- Success           #1DB954
   -- Warning           #FFA600
   -- Danger            #FF4D4D
   -- Focus Ring        #BDEFE7
   -- Shadow rgba       rgba(12,21,32,0.08)
   ========================================================================== */

   :root{
    --bg-body:#F6FAF9; --bg-surface:#FFFFFF; --bg-surface-2:#F9FCFB;
    --bd-hairline:#E3EEE9; --fg:#0C1520; --fg-2:#63727E;
    --brand:#00C2A8; --brand-hover:#00B39B;
    --success:#1DB954; --warning:#FFA600; --danger:#FF4D4D;
    --focus:#BDEFE7; --shadow:0 8px 24px rgba(12,21,32,0.08); --radius:16px;
  
    --bs-body-bg:var(--bg-body); --bs-body-color:var(--fg);
    --bs-secondary-color:var(--fg-2); --bs-border-color:var(--bd-hairline);
    --bs-primary:var(--brand); --bs-success:var(--success);
    --bs-warning:var(--warning); --bs-danger:var(--danger);
    --bs-link-color:var(--brand); --bs-link-hover-color:var(--brand-hover);
  }
  
  /* base */
  html,body{background:var(--bg-body); color:var(--fg)}
  h1,h2,h3,h4,h5,h6{color:var(--fg); letter-spacing:.1px}
  .card,.modal-content,.dropdown-menu,.list-group-item,.form-control,
  .form-select,.btn,.alert,.badge,.progress,.toast{border-radius:var(--radius)}
  a,button,.btn,.list-group-item,.nav-link,.form-control,.form-select{
    transition:all 160ms ease, transform 160ms ease, box-shadow 160ms ease;
  }
  
  /* navbar */
  .navbar{background:var(--bg-surface)!important;border-bottom:1px solid var(--bd-hairline)}
  .navbar .nav-link{color:var(--fg-2)} .navbar .nav-link:hover{color:var(--fg)}
  
  /* cards */
  .card{background:var(--bg-surface); border:1px solid var(--bd-hairline); box-shadow:var(--shadow)}
  
  /* buttons */
  .btn,.btn-primary,.btn-secondary{
    --bs-btn-color:#0E151A;
    --bs-btn-bg:var(--brand);
    --bs-btn-border-color:var(--brand);
    --bs-btn-hover-bg:var(--brand-hover);
    --bs-btn-hover-border-color:var(--brand-hover);
    --bs-btn-active-bg:var(--brand-hover);
    --bs-btn-active-border-color:var(--brand-hover);
    border-radius:999px;
    box-shadow:0 6px 16px color-mix(in oklab, var(--brand) 22%, transparent);
    color:#0E151A !important;
  }
  .btn:hover{transform:translateY(-1px)}
  .btn:active{transform:translateY(0)}
  .btn-outline-primary{color:var(--brand); border-color:var(--brand)}
  .btn-outline-primary:hover{color:#0E151A;background:var(--brand)}
  
  /* forms */
  .form-control,.form-select{background:#fff;border:1px solid var(--bd-hairline);color:var(--fg)}
  .form-control:focus,.form-select:focus{border-color:var(--brand); box-shadow:0 0 0 3px var(--focus)}
  .input-group-text{background:var(--bg-surface-2); border-color:var(--bd-hairline)}
  
  /* tables (incl. events) */
  .table,.events-table{background:var(--bg-surface); border-color:var(--bd-hairline); color:var(--fg)}
  .events-table th{background:var(--bg-surface-2); position:sticky; top:0; z-index:1}
  tr.event-user td .event-title{color:var(--brand)}
  .delete-btn{color:var(--danger); background:transparent; border:none; font-weight:700}
  
  /* events scroll */
  .events-card{display:flex;flex-direction:column;height:420px}
  .events-scroll{flex:1 1 auto;overflow:auto;border:1px solid var(--bd-hairline);border-radius:12px}
  .events-scroll::-webkit-scrollbar{height:8px;width:8px}
  .events-scroll::-webkit-scrollbar-thumb{background:#cfe9e3;border-radius:8px}
  
  /* list groups */
  .list-group-item{background:var(--bg-surface); border-color:var(--bd-hairline)}
  .list-group-item:hover{background:var(--bg-surface-2)}
  
  /* alerts/badges */
  .alert{border:1px solid var(--bd-hairline); background:var(--bg-surface)}
  .badge{border-radius:999px}
  
  /* progress */
  .progress{background:var(--bg-surface-2); border:1px solid var(--bd-hairline)}
  .progress-bar{background:var(--brand)}
  
  /* modals/tooltips */
  .modal-content{background:var(--bg-surface); border:1px solid var(--bd-hairline); box-shadow:var(--shadow)}
  .tooltip .tooltip-inner{background:#0E151A;color:#fff;border:1px solid #0E151A}
  
  /* utilities */
  .text-muted,.muted{color:var(--fg-2)!important}
  .shadow-soft{box-shadow:var(--shadow)}


  
  
  @media (prefers-reduced-motion:reduce){*{transition:none!important}}

  /* ==========================================================================
   CHROME: Topbar + Sidebar (compact icons → expand on hover)
   ========================================================================== */

/* Layout variables */
:root{
  --topbar-h: 56px;
  --sidebar-collapsed: 72px;  /* narrow icon rail */
  --sidebar-expanded: 240px;  /* width on hover */
}

/* Top bar */
.app-topbar{
  position: fixed; inset: 0 0 auto 0;
  height: var(--topbar-h);
  background: var(--bg-surface);
  border-bottom: 1px solid var(--bd-hairline);
  display: grid;
  grid-template-columns: 56px 1fr 56px; /* burger | center | right */
  align-items: center;
  z-index: 1020;
}
.topbar-burger{
  margin-left: 8px;
  background: transparent; border: 0; font-size: 1.6rem; line-height: 1;
  color: var(--fg-2);
  transition: color .16s ease, transform .16s ease;
}
.topbar-burger:hover{ color: var(--fg); transform: translateY(-1px); }
.topbar-logo{
  justify-self: center; text-decoration: none; color: var(--fg);
  display: inline-flex; align-items: center; gap: .5rem; font-weight: 600;
}
.topbar-right{ justify-self: end; padding-right: 8px; }

/* Sidebar container */
.app-sidebar{
  position: fixed; top: var(--topbar-h); left: 0;
  height: calc(100vh - var(--topbar-h));
  width: var(--sidebar-collapsed);
  background: var(--bg-surface);
  border-right: 1px solid var(--bd-hairline);
  box-shadow: var(--shadow);
  display: flex; flex-direction: column;
  overflow: hidden;
  transition: width .18s ease;
  z-index: 1010;
}

/* Expand on hover (desktop only) */
@media (hover:hover){
  .app-sidebar:hover{ width: var(--sidebar-expanded); }
  .app-sidebar:hover .label{ opacity: 1; transform: translateX(0); }
}

/* Navigation items */
.app-nav{ padding: 8px; display: flex; flex-direction: column; gap: 4px; }
.app-nav-item{
  display: flex; align-items: center; gap: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  color: var(--fg);
  text-decoration: none;
  transition: background .16s ease, transform .16s ease, box-shadow .16s ease, color .16s ease;
}
.app-nav-item i{ font-size: 1.25rem; width: 24px; text-align: center; color: var(--fg-2); }
.app-nav-item .label{
  white-space: nowrap; opacity: 0; transform: translateX(-8px);
  transition: opacity .16s ease, transform .16s ease;
}

/* Active + hover states */
.app-nav-item:hover{
  background: var(--bg-surface-2);
  transform: translateY(-1px);
}
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 12%, white);
  color: var(--fg);
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 20%, transparent);
}
.app-nav-item.active i{ color: var(--brand); }

/* Spacer + signout at bottom */
.app-nav-spacer{ flex: 1 1 auto; }
.app-nav-item.signout{ color: var(--danger); }
.app-nav-item.signout i{ color: var(--danger); }

/* Main page content spacing */
body{ padding-top: var(--topbar-h); padding-left: var(--sidebar-collapsed); }
/* On hover we overlay the expanded sidebar (no content shift). If you prefer pushing content,
   uncomment the rule below to push when expanded:
   .app-sidebar:hover ~ main, .app-sidebar:hover ~ .container { margin-left: calc(var(--sidebar-expanded) - var(--sidebar-collapsed)); }
*/

/* Mobile: sidebar slides over content when open */
@media (max-width: 991.98px){
  body{ padding-left: 0; }            /* no reserved rail on mobile */
  .app-sidebar{
    transform: translateX(-100%);
    width: var(--sidebar-expanded);   /* open width on mobile */
  }
  body.sidebar-open .app-sidebar{
    transform: translateX(0);
    transition: transform .2s ease;
  }
}

/* Make labels visible when there's enough width (≥ expanded) */
@media (min-width: 992px){
  /* Keep labels hidden by default; they appear on hover (see media above) */
}

/* Icon font (Bootstrap Icons) sizing reset if needed */
.bi{ vertical-align: -0.125em; }

/* Optional: subtle backdrop when sidebar is open on mobile */
@media (max-width: 991.98px){
  body.sidebar-open::after{
    content: ""; position: fixed; inset: var(--topbar-h) 0 0 0; 
    background: rgba(0,0,0,.25); backdrop-filter: blur(1px);
    z-index: 1005;
  }
}

/* ===== Sidebar Section Titles & Dividers ===== */

/* Non-interactive title row */
.app-nav-title{
  display:flex; align-items:center; gap:12px;
  padding:8px 12px; margin-top:6px; margin-bottom:2px;
  color: var(--fg-2);
  font-size:.78rem; font-weight:700; text-transform:uppercase; letter-spacing:.06em;
  pointer-events:none;                 /* not clickable */
  user-select:none;
}

/* Title icon (optional) */
.app-nav-title i{
  font-size:1rem; width:24px; text-align:center; color: var(--fg-2);
}

/* Title label reveals on expand (same motion as items) */
.app-nav-title .label{
  white-space:nowrap; opacity:0; transform:translateX(-8px);
  transition:opacity .16s ease, transform .16s ease;
}
@media (hover:hover){
  .app-sidebar:hover .app-nav-title .label{ opacity:1; transform:translateX(0) }
}

/* Hairline divider between sections */
.app-nav-sep{
  height:1px; background:var(--bd-hairline);
  margin:8px 10px;
  border-radius:1px;
  opacity:.9;
}

/* ===========================================================
   SIDEBAR POLISH — icons, titles, and sign-out button
   =========================================================== */

/* --- Consistent icon slot for every row (items + titles) --- */
.app-nav-item i,
.app-nav-title i{
  width: 28px;            /* fixed icon lane */
  min-width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  font-size: 1.15rem;
  color: var(--fg-2);
  transition: color .16s ease, transform .16s ease, background-color .16s ease;
}

/* Hover/active color for icons (keeps visibility when collapsed) */
.app-nav-item:hover i{ color: var(--brand); transform: translateY(-1px); }
.app-nav-item.active i{ color: var(--brand); }

/* Title row: subtle, non-interactive */
.app-nav-title{
  display:flex; align-items:center; gap:12px;
  padding:8px 12px; margin-top:6px; margin-bottom:2px;
  color: var(--fg-2); font-size:.78rem; font-weight:700;
  text-transform:uppercase; letter-spacing:.06em;
  user-select:none; pointer-events:none;
}

/* Label reveal behavior (collapsed: just icons; hover to show labels) */
.app-sidebar .label{ opacity:0; transform:translateX(-8px); white-space:nowrap; transition:opacity .16s ease, transform .16s ease; }
@media (hover:hover){
  .app-sidebar:hover .label{ opacity:1; transform:translateX(0); }
}

/* Hairline dividers between sections */
.app-nav-sep{
  height:1px; background:var(--bd-hairline);
  margin:8px 10px; border-radius:1px; opacity:.9;
}

/* Active item highlight (subtle brand tint + vertical bar) */
.app-nav-item{ position: relative; }
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 10%, var(--bg-surface));
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 18%, transparent);
}
.app-nav-item.active::before{
  content:""; position:absolute; left:6px; top:8px; bottom:8px; width:3px;
  background: var(--brand); border-radius: 2px;
}

/* --- Sign out (bottom) — on-theme, sleek danger treatment --- */
.app-nav-item.signout{
  position: relative;
  margin: 8px;               /* pulls it in from the rail edge */
  margin-top: 4px;
  padding: 10px 12px;
  background: color-mix(in oklab, var(--danger) 6%, var(--bg-surface));
  border: 1px solid color-mix(in oklab, var(--danger) 18%, var(--bd-hairline));
  color: var(--danger);
  box-shadow: 0 6px 16px color-mix(in oklab, var(--danger) 12%, transparent);
  border-radius: 12px;       /* same radius as other items */
}
.app-nav-item.signout i{ color: var(--danger); }
.app-nav-item.signout:hover{
  background: color-mix(in oklab, var(--danger) 12%, var(--bg-surface));
  transform: translateY(-1px);
}
.app-nav-item.signout:active{ transform: translateY(0); }

/* Subtle top divider “above” the signout area */
.app-nav-item.signout::before{
  content:""; position:absolute; left:-8px; right:-8px; top:-12px; height:1px;
  background: var(--bd-hairline); border-radius:1px; opacity:.9;
}

/* Keyboard focus (clean, accessible ring) */
.app-nav-item:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px var(--focus);
}

/* Optional: slightly lighter hover for standard items to match the signout feel */
.app-nav-item:hover{
  background: var(--bg-surface-2);
  transform: translateY(-1px);
}
.app-nav-item:active{ transform: translateY(0); }

/* ===========================================================
   SIDEBAR — Collapsed icon rail that still looks full
   Keeps icons visible & centered when collapsed; labels reveal on hover.
   Works with your existing .app-sidebar hover-to-expand behavior.
   =========================================================== */

/* Fixed icon lane + subtle “chip” background */
.app-nav-item i,
.app-nav-title i{
  width: 28px;
  min-width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  font-size: 1.15rem;
  color: var(--fg-2);
  border-radius: 8px;
  background: var(--bg-surface-2);
  transition: color .16s ease, background-color .16s ease, transform .16s ease;
}

/* Hover/active emphasis for icons */
.app-nav-item:hover i{
  color: var(--brand);
  background: color-mix(in oklab, var(--brand) 14%, var(--bg-surface-2));
  transform: translateY(-1px);
}
.app-nav-item.active i{
  color: var(--brand);
  background: color-mix(in oklab, var(--brand) 18%, #fff);
}

/* Collapsed state: center icons, hide labels cleanly */
.app-sidebar:not(:hover) .app-nav-item,
.app-sidebar:not(:hover) .app-nav-title{
  justify-content: center;
  gap: 0;
}
.app-sidebar:not(:hover) .app-nav-item{ padding: 10px 0; }
.app-sidebar:not(:hover) .app-nav-title{ padding: 6px 0; }

/* Hide the text labels while collapsed (but keep accessible titles) */
.app-sidebar:not(:hover) .label{
  width: 0;
  opacity: 0;
  transform: translateX(-8px);
  overflow: hidden;
  white-space: nowrap;
  pointer-events: none;
}

/* Dividers in collapsed mode: tighter margins so they’re still visible */
.app-sidebar:not(:hover) .app-nav-sep{
  margin: 8px 18px;
}

/* Active row highlight (subtle brand tint + indicator bar) */
.app-nav-item{ position: relative; }
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 10%, var(--bg-surface));
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 18%, transparent);
}
.app-nav-item.active::before{
  content:""; position:absolute; left:6px; top:8px; bottom:8px; width:3px;
  background: var(--brand); border-radius: 2px;
}

/* Sign out button — keeps icon visible & polished in collapsed state too */
.app-nav-item.signout{
  margin: 8px;
  padding: 10px 12px;
  background: color-mix(in oklab, var(--danger) 6%, var(--bg-surface));
  border: 1px solid color-mix(in oklab, var(--danger) 18%, var(--bd-hairline));
  color: var(--danger);
  box-shadow: 0 6px 16px color-mix(in oklab, var(--danger) 12%, transparent);
  border-radius: 12px;
}
.app-nav-item.signout i{ color: var(--danger); }
.app-sidebar:not(:hover) .app-nav-item.signout{ padding: 10px 0; } /* center icon when collapsed */
.app-nav-item.signout:hover{
  background: color-mix(in oklab, var(--danger) 12%, var(--bg-surface));
  transform: translateY(-1px);
}
.app-nav-item.signout:active{ transform: translateY(0); }
.app-nav-item.signout::before{
  content:""; position:absolute; left:-8px; right:-8px; top:-12px; height:1px;
  background: var(--bd-hairline); border-radius:1px; opacity:.9;
}

/* Labels reveal on expand (already handled elsewhere); keep the transition smooth */
.app-sidebar .label{
  transition: opacity .16s ease, transform .16s ease, width .16s ease;
}

/* === Upload button inline spinner overlay (on-theme, subtle) === */
#uploadBtn {
  position: relative;
  overflow: hidden;
}

/* Loading state toggled by JS */
#uploadBtn.btn-is-loading {
  pointer-events: none;
  opacity: .9;
}

/* The overlay that gently covers the button while uploading */
#uploadBtn.btn-is-loading::after {
  content: "";
  position: absolute;
  inset: 0;
  background: color-mix(in oklab, var(--bg-surface) 70%, white);
  /* slight blur for a modern feel */
  backdrop-filter: blur(2px);
}

/* The spinner “wheel” centered on the button */
#uploadBtn.btn-is-loading::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 20px; height: 20px;
  border-radius: 50%;
  border: 2px solid color-mix(in oklab, var(--brand) 20%, var(--bd-hairline));
  border-top-color: var(--brand);
  animation: btnspin .8s linear infinite;
  z-index: 1;
}

@keyframes btnspin { to { transform: rotate(360deg); } }

/* (Optional) small progress text in the bottom-right of the button */
#uploadBtn .btn-progress-pct {
  position: absolute; right: 8px; bottom: 6px;
  font-size: .75rem; font-weight: 600; color: var(--fg-2);
  pointer-events: none; user-select: none;
  opacity: 0; transition: opacity .15s ease;
}
#uploadBtn.btn-show-pct .btn-progress-pct { opacity: 1; }

/* Card-top progress bar (2px) */
.card-uploading {
  position: relative;
}
.card-uploading::before {
  content:""; position:absolute; left:0; top:0; height:2px; width: var(--upload-w, 0%);
  background: var(--brand); border-radius: 2px 2px 0 0;
  box-shadow: 0 2px 10px color-mix(in oklab, var(--brand) 30%, transparent);
  transition: width .15s ease;
}

/* ===========================================================
   Documents: Upload UI polish
   - Spinner overlay on the clicked Upload button
   - Thin progress bar across the top of the table region
   =========================================================== */

/* Row upload button inline spinner overlay (generic, no IDs needed) */
.btn[data-action="upload"] { position: relative; overflow: hidden; }

.btn[data-action="upload"].is-loading {
  pointer-events: none;
  opacity: .9;
}
.btn[data-action="upload"].is-loading::after {
  content: "";
  position: absolute; inset: 0;
  background: color-mix(in oklab, var(--bg-surface) 70%, white);
  backdrop-filter: blur(2px);
}
.btn[data-action="upload"].is-loading::before {
  content: "";
  position: absolute; inset: 0; margin: auto;
  width: 20px; height: 20px; border-radius: 50%;
  border: 2px solid color-mix(in oklab, var(--brand) 20%, var(--bd-hairline));
  border-top-color: var(--brand);
  animation: btnspin .8s linear infinite;
  z-index: 1;
}
@keyframes btnspin { to { transform: rotate(360deg); } }

/* Thin progress bar across the top of the table wrapper */
.table-uploading { position: relative; }
.table-uploading::before {
  content:"";
  position:absolute; left:0; top:0; height:2px; width: var(--upload-w, 0%);
  background: var(--brand);
  border-radius: 2px 2px 0 0;
  box-shadow: 0 2px 10px color-mix(in oklab, var(--brand) 30%, transparent);
  transition: width .15s ease;
}
/* Icon-only buttons: perfect square, centered icon */
.btn-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 34px;       /* matches .btn-sm height nicely */
  height: 34px;
  padding: 0;        /* no extra padding */
}
.btn-icon i{
  font-size: 1rem;   /* tweak if you prefer larger/smaller icons */
  line-height: 1;
}

/* ===================== Billing Cycle Toggle (smaller) ===================== */
:root {
  --toggle-accent: var(--brand, var(--bs-success, #198754));
  --toggle-fg: var(--fg-2, #6c757d);
  --toggle-bg: var(--bg-surface, #ffffff);
  --toggle-border: color-mix(in oklab, var(--toggle-accent) 80%, #0000);
}

.billing-toggle {
  display: flex;
  justify-content: flex-end;
}

/* Smaller, sleeker container */
.billing-toggle__inner {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  isolation: isolate;
  width: 260px;                 /* was 320px */
  min-height: 38px;             /* was 44px */
  background: var(--toggle-bg);
  border: 2px solid var(--toggle-border);
  border-radius: 9999px;
  box-shadow: 0 1px 6px rgba(0,0,0,.06), inset 0 0 0 1px rgba(0,0,0,.03);
  padding: 2px;                 /* was 3px */
}

.billing-toggle__option {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: 6px 8px;             /* was 8px 10px */
  font-weight: 600;
  font-size: 0.9rem;            /* was 0.95rem */
  line-height: 1.1;
  color: var(--toggle-fg);
  cursor: pointer;
  user-select: none;
  transition: color .18s ease, transform .18s ease;
}
.billing-toggle__option:hover { transform: translateY(-1px); }

/* Move the "Save 10–15%" under 'Yearly' */
.billing-toggle__option .save {
  display: block;               /* forces a new line */
  margin-top: 2px;
  font-size: 0.72rem;           /* slightly smaller */
  font-weight: 700;
  line-height: 1;
  padding: .12rem .35rem;
  border-radius: .4rem;
  margin-left: auto;            /* center within label */
  margin-right: auto;
  background: color-mix(in oklab, var(--toggle-accent) 12%, #fff);
  color: color-mix(in oklab, var(--toggle-accent) 85%, #000);
}

/* The moving pill (smaller to match container) */
.billing-toggle__knob {
  position: absolute;
  top: 2px;                     /* was 3px */
  bottom: 2px;                  /* was 3px */
  left: 2px;                    /* was 3px */
  width: calc(50% - 4px);       /* was calc(50% - 6px) */
  border-radius: 9999px;
  background: var(--toggle-accent);
  box-shadow:
    inset 0 -1px 0 rgba(0,0,0,.12),
    0 4px 14px color-mix(in oklab, var(--toggle-accent) 40%, transparent);
  transition: transform .22s cubic-bezier(.2,.8,.2,1), box-shadow .22s ease;
  z-index: 0;
}

.billing-toggle__inner:focus-within {
  box-shadow:
    0 1px 8px rgba(0,0,0,.08),
    0 0 0 4px color-mix(in oklab, var(--toggle-accent) 20%, transparent);
}

/* Checked state: move knob + white active text */
#cycle-monthly:checked ~ .billing-toggle__inner .billing-toggle__knob { transform: translateX(0%); }
#cycle-yearly:checked  ~ .billing-toggle__inner .billing-toggle__knob { transform: translateX(100%); }

#cycle-monthly:checked ~ .billing-toggle__inner .opt-month { color: #fff; }
#cycle-yearly:checked  ~ .billing-toggle__inner .opt-year  { color: #fff; }

/* Keyboard focus */
#cycle-monthly:focus-visible + #cycle-yearly + .billing-toggle__inner,
#cycle-yearly:focus-visible  ~ .billing-toggle__inner {
  outline: none;
  box-shadow:
    0 1px 8px rgba(0,0,0,.08),
    0 0 0 4px color-mix(in oklab, var(--toggle-accent) 25%, transparent);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .billing-toggle__option,
  .billing-toggle__knob { transition: none !important; }
}

/* =========================
   Document Vault – Collection View Polish
   (purely aesthetic; no markup/js changes)
   ========================= */

   :root{
    --vault-accent: #10a37f; /* mint accent */
    --vault-accent-ghost: rgba(16,163,127,.10);
    --vault-border: rgba(0,0,0,.08);
    --vault-border-strong: rgba(0,0,0,.16);
    --vault-shadow: 0 10px 30px rgba(0,0,0,.06), 0 2px 8px rgba(0,0,0,.06);
    --vault-shadow-hover: 0 14px 34px rgba(0,0,0,.10), 0 4px 12px rgba(0,0,0,.06);
    --vault-muted: #6b7280;
    --vault-bg-soft: #fafafa;
  }
  
  /* --- Dropzone (upload) -------------------------------------------------- */
  .dropzone{
    position: relative;
    border: 2px dashed var(--vault-border);
    border-radius: 18px;
    padding: 22px 18px;
    text-align: center;
    background:
      radial-gradient(24px 24px at 16px 16px, rgba(0,0,0,.03) 20%, transparent 21%) 0 0/28px 28px,
      var(--vault-bg-soft);
    transition: border-color .15s ease, box-shadow .15s ease, background .25s ease, transform .15s ease;
    box-shadow: var(--vault-shadow);
  }
  .dropzone:hover{
    transform: translateY(-2px);
    box-shadow: var(--vault-shadow-hover);
    border-color: var(--vault-border-strong);
  }
  .dropzone.drag{
    border-color: var(--vault-accent);
    box-shadow: 0 0 0 4px var(--vault-accent-ghost), var(--vault-shadow-hover);
    background: linear-gradient(180deg, rgba(16,163,127,.04), rgba(16,163,127,.02));
  }
  .dropzone .dz-note{
    color: var(--vault-muted);
  }
  .dz-actions .btn{
    border-radius: 999px;
    padding: .45rem .9rem;
    box-shadow: 0 4px 10px rgba(0,0,0,.06);
  }
  #btn-browse{
    background: var(--vault-accent);
    border-color: var(--vault-accent);
  }
  #btn-browse:hover{
    filter: brightness(1.05);
  }
  
  /* Optional visual state if you add .is-uploading on the dropzone */
  .dropzone.is-uploading{
    animation: dzPulse 1.1s ease-in-out infinite;
  }
  @keyframes dzPulse{
    0%,100% { box-shadow: 0 0 0 0 var(--vault-accent-ghost), var(--vault-shadow); }
    50%     { box-shadow: 0 0 0 6px var(--vault-accent-ghost), var(--vault-shadow); }
  }
  
  /* --- File list container ------------------------------------------------- */
  .file-list{
    border: 1px solid var(--vault-border);
    border-radius: 14px;
    padding: 10px;
    background: #fff;
    box-shadow: var(--vault-shadow);
    max-height: 60vh;
    overflow: auto;
  }
  
  /* Subtle custom scrollbars (webkit browsers) */
  .file-list::-webkit-scrollbar{ width: 10px; }
  .file-list::-webkit-scrollbar-thumb{ background: rgba(0,0,0,.15); border-radius: 10px; }
  .file-list::-webkit-scrollbar-thumb:hover{ background: rgba(0,0,0,.24); }
  
  /* --- File item card ------------------------------------------------------ */
  .file-item{
    border: 1px dashed var(--vault-border);
    border-radius: 14px;
    padding: 12px 12px;
    background: linear-gradient(180deg, #fff, #fff);
    display: flex; align-items: center; justify-content: space-between;
    transition: border-color .15s ease, background .15s ease, transform .12s ease, box-shadow .15s ease;
    will-change: transform;
  }
  .file-item + .file-item{ margin-top: 10px; }
  .file-item:hover{
    border-color: var(--vault-border-strong);
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0,0,0,.06);
    background: linear-gradient(180deg, #ffffff, #f9fbff);
  }
  .file-item.active{
    border-color: #b6d4fe;
    box-shadow: 0 0 0 3px rgba(49,132,253,.15);
    background: linear-gradient(180deg, #eef6ff, #ffffff);
  }
  
  /* Leading file icon via CSS only (no markup change) */
  .file-item > div:first-child{
    position: relative; padding-left: 38px;
  }
  .file-item > div:first-child::before{
    content: "";
    position: absolute; left: 0; top: 6px;
    width: 26px; height: 26px; border-radius: 8px;
    background: rgba(111,66,193,.10);
    box-shadow: inset 0 0 0 1px rgba(111,66,193,.2);
    -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="black"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" fill="%23000" opacity=".12"/><path d="M14 2v6h6" stroke="%23000" stroke-width="2" fill="none"/></svg>') center/18px 18px no-repeat;
    mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="black"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" fill="%23000" opacity=".12"/><path d="M14 2v6h6" stroke="%23000" stroke-width="2" fill="none"/></svg>') center/18px 18px no-repeat;
  }
  
  /* Title + meta text */
  .file-item .fw-semibold{
    font-weight: 600;
    max-width: 44vw;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  @media (max-width: 991.98px) {
    .file-item .fw-semibold{ max-width: 60vw; }
  }
  .file-item .meta{ color: var(--vault-muted); }
  
  /* Action buttons appear on hover/active */
  .file-item .btn-group{
    opacity: 0; transform: translateY(-3px);
    transition: opacity .12s ease, transform .12s ease;
  }
  .file-item:hover .btn-group,
  .file-item.active .btn-group{
    opacity: 1; transform: translateY(0);
  }
  .file-item .btn{
    border-radius: 10px;
  }
  
  /* --- Preview pane -------------------------------------------------------- */
  .preview{
    border: 1px solid var(--vault-border);
    border-radius: 18px;
    background: #f6f7fb;
    box-shadow: var(--vault-shadow);
    overflow: hidden;
  }
  .preview::after{
    /* faint top gloss */
    content:""; position:absolute; inset:0 0 auto 0; height: 80px;
    background: linear-gradient(180deg, rgba(255,255,255,.55), transparent);
    pointer-events:none;
  }
  .preview iframe{
    display:block; width: 100%; height: 100%; border: 0; background: #fff;
  }
  
  /* --- Panel header & back button ----------------------------------------- */
  #btn-back{
    border-radius: 999px;
  }
  
  /* --- Micro-interactions -------------------------------------------------- */
  .card-elev:hover{ box-shadow: var(--vault-shadow-hover); }
  

  
  