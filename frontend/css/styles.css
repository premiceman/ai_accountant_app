/* ==========================================================================
   AI Accountant • styles.css  (Option B — Glacier Mint)
   LIGHT THEME • airy, modern, mint accent
   --------------------------------------------------------------------------
   PALETTE
   -- Background        #F6FAF9
   -- Surface           #FFFFFF
   -- Surface Elevated  #F9FCFB
   -- Border/Hairline   #E3EEE9
   -- Text Primary      #0C1520
   -- Text Secondary    #63727E
   -- Brand / Primary   #00C2A8
   -- Brand Hover       #00B39B
   -- Success           #1DB954
   -- Warning           #FFA600
   -- Danger            #FF4D4D
   -- Focus Ring        #BDEFE7
   -- Shadow rgba       rgba(12,21,32,0.08)
   ========================================================================== */

   :root{
    --bg-body:#F6FAF9; --bg-surface:#FFFFFF; --bg-surface-2:#F9FCFB;
    --bd-hairline:#E3EEE9; --fg:#0C1520; --fg-2:#63727E;
    --brand:#00C2A8; --brand-hover:#00B39B;
    --success:#1DB954; --warning:#FFA600; --danger:#FF4D4D;
    --focus:#BDEFE7; --shadow:0 8px 24px rgba(12,21,32,0.08); --radius:16px;
  
    --bs-body-bg:var(--bg-body); --bs-body-color:var(--fg);
    --bs-secondary-color:var(--fg-2); --bs-border-color:var(--bd-hairline);
    --bs-primary:var(--brand); --bs-success:var(--success);
    --bs-warning:var(--warning); --bs-danger:var(--danger);
    --bs-link-color:var(--brand); --bs-link-hover-color:var(--brand-hover);
  }
  
/* base */
html,body{background:var(--bg-body); color:var(--fg)}
h1,h2,h3,h4,h5,h6{color:var(--fg); letter-spacing:.1px}
.card,.modal-content,.dropdown-menu,.list-group-item,.form-control,
.form-select,.btn,.alert,.badge,.progress,.toast{border-radius:var(--radius)}
a,button,.btn,.list-group-item,.nav-link,.form-control,.form-select{
  transition:all 160ms ease, transform 160ms ease, box-shadow 160ms ease;
}

@media (max-width: 767.98px){
  .container, .container-fluid{
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* --------------------------------------------------------------------------
   Mobile bento navigation (app shell)
   -------------------------------------------------------------------------- */
.app-bento-toggle{
  display:none;
  width:44px; height:44px;
  border-radius:14px;
  border:1px solid color-mix(in oklab, var(--bd-hairline) 60%, transparent);
  background:linear-gradient(160deg, color-mix(in oklab, var(--bg-surface) 96%, transparent), color-mix(in oklab, var(--bg-surface-2) 82%, transparent));
  box-shadow:0 10px 24px rgba(12,21,32,0.08);
  align-items:center; justify-content:center;
  color:var(--fg-2);
  padding:0;
  transition:transform .16s ease, color .16s ease, box-shadow .16s ease;
  margin-right:.25rem;
}
.app-bento-toggle:hover{ color:var(--fg); transform:translateY(-1px); }
.app-bento-toggle:focus-visible{ outline:3px solid var(--focus); outline-offset:3px; }
.app-bento-toggle__dots{ display:grid; grid-template-columns:repeat(3,6px); grid-auto-rows:6px; gap:4px; }
.app-bento-toggle__dots span{ display:block; width:6px; height:6px; border-radius:50%; background:color-mix(in oklab, var(--brand) 22%, white); box-shadow:0 2px 4px rgba(12,21,32,0.18); }

.app-bento-menu{
  position:fixed; inset:0;
  background:linear-gradient(140deg, color-mix(in oklab, var(--bg-body) 88%, transparent) 0%, color-mix(in oklab, var(--bg-surface-2) 96%, transparent) 50%, color-mix(in oklab, var(--brand) 12%, transparent) 100%);
  backdrop-filter:blur(16px);
  padding-top:clamp(1rem, 4vw, 1.5rem);
  display:flex; flex-direction:column;
  gap:clamp(1rem, 4vw, 1.5rem);
  opacity:0; transform:translateY(16px);
  pointer-events:none;
  transition:opacity .3s ease, transform .3s ease;
  z-index:1400;
  overflow-y:auto; -webkit-overflow-scrolling:touch;
  scrollbar-gutter:stable both-edges;
}
.app-bento-menu::before{
  content:""; position:absolute; inset:12% 8% auto 8%; height:280px;
  background:radial-gradient(circle at top, color-mix(in oklab, var(--brand) 32%, transparent), transparent 68%);
  opacity:.55; filter:blur(20px); pointer-events:none;
}
.app-bento-menu.is-open{ opacity:1; transform:translateY(0); pointer-events:auto; }
.app-bento__header, .app-bento__groups{ position:relative; z-index:1; }
.app-bento__header{
  display:flex; align-items:flex-start; justify-content:space-between; gap:1.5rem;
  padding:0 clamp(1.5rem, 7vw, 2.75rem);
}
.app-bento__eyebrow{ letter-spacing:.18em; color:var(--fg-2); font-size:.75rem; text-transform:uppercase; }
.app-bento__title{ font-size:clamp(1.5rem, 5vw, 2.5rem); }
.app-bento__subtitle{ color:var(--fg-2); font-size:.95rem; max-width:36ch; }
.app-bento__close{
  width:48px; height:48px; border-radius:16px;
  border:1px solid color-mix(in oklab, var(--bd-hairline) 70%, transparent);
  background:linear-gradient(160deg, var(--bg-surface) 30%, var(--bg-surface-2) 100%);
  display:flex; align-items:center; justify-content:center;
  color:var(--fg);
  box-shadow:0 12px 26px rgba(12,21,32,0.12);
  transition:transform .2s ease, box-shadow .2s ease;
}
.app-bento__close:hover{ transform:translateY(-2px); box-shadow:0 16px 32px rgba(12,21,32,0.16); }
.app-bento__groups{ display:flex; flex-direction:column; gap:clamp(1.5rem, 6vw, 2.5rem); padding:0 clamp(1.5rem, 7vw, 2.75rem) clamp(2.5rem, 9vw, 3.5rem); }
.app-bento__group{ display:flex; flex-direction:column; gap:clamp(.75rem, 3vw, 1.25rem); }
.app-bento__group-title{ text-transform:uppercase; letter-spacing:.18em; font-size:.75rem; color:var(--fg-2); }
.app-bento__tiles{ display:grid; gap:clamp(1rem, 6vw, 2rem); grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); }
.app-bento__tile{
  position:relative;
  border-radius:24px;
  border:1px solid color-mix(in oklab, var(--bd-hairline) 80%, transparent);
  background:linear-gradient(160deg, var(--bg-surface) 55%, color-mix(in oklab, var(--bg-surface-2) 80%, transparent));
  padding:clamp(1.35rem, 5vw, 1.85rem);
  text-decoration:none; color:inherit;
  display:flex; flex-direction:column; gap:.45rem;
  box-shadow:0 18px 36px rgba(12,21,32,0.12);
  transition:transform .25s ease, box-shadow .25s ease, background .25s ease;
}
.app-bento__tile::after{
  content:""; position:absolute; inset:auto 18% -24px 18%; height:40px; border-radius:999px;
  background:radial-gradient(circle, rgba(12,21,32,0.16), transparent 70%);
  opacity:0; transition:opacity .25s ease;
}
.app-bento__tile:hover{ transform:translateY(-6px); box-shadow:0 26px 46px rgba(12,21,32,0.18); }
.app-bento__tile:hover::after{ opacity:1; }
.app-bento__tile-icon{ width:48px; height:48px; border-radius:16px; display:grid; place-items:center; background:color-mix(in oklab, var(--brand) 14%, white); color:color-mix(in oklab, var(--brand) 85%, #083d33); font-size:1.35rem; box-shadow:0 12px 28px rgba(0,194,168,0.18); }
.app-bento__tile-title{ font-weight:600; font-size:1.1rem; }
.app-bento__tile-copy{ color:var(--fg-2); font-size:.95rem; line-height:1.5; }
.app-bento__tile--accent{
  background:linear-gradient(160deg, color-mix(in oklab, var(--brand) 14%, white) 0%, color-mix(in oklab, var(--brand-hover) 18%, white) 100%);
  color:#0E151A;
  box-shadow:0 24px 46px rgba(0,194,168,0.25);
}
.app-bento__tile--accent .app-bento__tile-icon{ background:rgba(255,255,255,0.85); color:var(--brand); box-shadow:0 12px 28px rgba(255,255,255,0.3); }
.app-bento__tile--danger{ background:linear-gradient(160deg, color-mix(in oklab, var(--danger) 18%, white) 0%, color-mix(in oklab, var(--danger) 8%, white) 100%); color:#301010; box-shadow:0 22px 40px rgba(255,77,77,0.22); }
.app-bento__tile--danger .app-bento__tile-icon{ background:rgba(255,255,255,0.9); color:var(--danger); box-shadow:0 12px 28px rgba(255,255,255,0.28); }
.app-bento__tile[disabled]{ pointer-events:none; opacity:.6; }

html.app-bento-open, body.app-bento-open{ overflow:hidden; height:100%; }

@media (max-width: 991.98px){
  #sidebar-container{ display:none !important; }
  .app-bento-toggle{ display:inline-flex; }
  #topbar-container .container-fluid{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
  }
  #topbar-container .container-fluid > *:last-child{ margin-left:auto; }
}

@media (max-width: 575.98px){
  .app-bento__tiles{ grid-template-columns: 1fr; }
  .app-bento__header{ flex-direction:column; align-items:flex-start; }
  .app-bento__close{ align-self:flex-end; }
}

@media (min-width: 992px){
  .app-bento-menu{ display:none !important; }
}
  
  /* navbar */
  .navbar{background:var(--bg-surface)!important;border-bottom:1px solid var(--bd-hairline)}
  .navbar .nav-link{color:var(--fg-2)} .navbar .nav-link:hover{color:var(--fg)}
  
  /* cards */
  .card{background:var(--bg-surface); border:1px solid var(--bd-hairline); box-shadow:var(--shadow)}
  .gradient-card{position:relative; overflow:hidden;}
  .gradient-card::before{
    content:""; position:absolute; inset:-40% -20% auto; height:70%;
    background:radial-gradient(circle at top left, color-mix(in oklab, var(--brand) 45%, white) 0%, transparent 65%);
    opacity:.65; pointer-events:none;
  }
  .gradient-card::after{
    content:""; position:absolute; inset:auto -30% -40%; height:70%;
    background:radial-gradient(circle at bottom right, color-mix(in oklab, var(--brand-hover) 45%, white) 0%, transparent 65%);
    opacity:.55; pointer-events:none;
  }
  .gradient-card.gradient-card--wealth::before{background:radial-gradient(circle at top left, color-mix(in oklab, var(--success) 38%, white) 0%, transparent 68%);}
  .gradient-card.gradient-card--wealth::after{background:radial-gradient(circle at bottom right, color-mix(in oklab, var(--brand) 30%, white) 0%, transparent 70%);}
  .gradient-card.gradient-card--comp::before{background:radial-gradient(circle at top left, color-mix(in oklab, var(--brand) 45%, white) 0%, transparent 68%);}
  .gradient-card.gradient-card--comp::after{background:radial-gradient(circle at bottom right, color-mix(in oklab, #6c63ff 45%, white) 0%, transparent 70%);}
  .gradient-card .card-body{position:relative; z-index:1;}
.card.locked{filter:grayscale(.5); opacity:.6}

.locked-overlay{
  position:absolute; inset:0;
  background:rgba(8,16,32,0.68);
  color:#fff;
  display:flex; align-items:center; justify-content:center;
  text-align:center; padding:2rem;
}
.locked-overlay__content{max-width:320px;}

.dashboard-loading-overlay{
  position:absolute;
  inset:0;
  border-radius:var(--radius);
  background:rgba(12,21,32,0.45);
  backdrop-filter:blur(3px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:20;
}
.dashboard-loading-overlay__content{
  text-align:center;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0.5rem;
}
#accounting-section.is-loading .card{
  opacity:0.5;
  pointer-events:none;
}
  [data-required-tier]{position:relative;}
  [data-required-tier] .card{position:relative; overflow:hidden;}
  
  /* buttons */
  .btn,.btn-primary,.btn-secondary{
    --bs-btn-color:#0E151A;
    --bs-btn-bg:var(--brand);
    --bs-btn-border-color:var(--brand);
    --bs-btn-hover-bg:var(--brand-hover);
    --bs-btn-hover-border-color:var(--brand-hover);
    --bs-btn-active-bg:var(--brand-hover);
    --bs-btn-active-border-color:var(--brand-hover);
    border-radius:999px;
    box-shadow:0 6px 16px color-mix(in oklab, var(--brand) 22%, transparent);
    color:#0E151A !important;
  }
  .btn:hover{transform:translateY(-1px)}
  .btn:active{transform:translateY(0)}
  .btn-outline-primary{color:var(--brand); border-color:var(--brand)}
  .btn-outline-primary:hover{color:#0E151A;background:var(--brand)}
  
  /* forms */
  .form-control,.form-select{background:#fff;border:1px solid var(--bd-hairline);color:var(--fg)}
  .form-control:focus,.form-select:focus{border-color:var(--brand); box-shadow:0 0 0 3px var(--focus)}
  .input-group-text{background:var(--bg-surface-2); border-color:var(--bd-hairline)}
  
  /* tables (incl. events) */
  .table,.events-table{background:var(--bg-surface); border-color:var(--bd-hairline); color:var(--fg)}
  .events-table th{background:var(--bg-surface-2); position:sticky; top:0; z-index:1}
  tr.event-user td .event-title{color:var(--brand)}
  .delete-btn{color:var(--danger); background:transparent; border:none; font-weight:700}
  
  /* events scroll */
  .events-card{display:flex;flex-direction:column;height:420px}
  .events-scroll{flex:1 1 auto;overflow:auto;border:1px solid var(--bd-hairline);border-radius:12px}
  .events-scroll::-webkit-scrollbar{height:8px;width:8px}
  .events-scroll::-webkit-scrollbar-thumb{background:#cfe9e3;border-radius:8px}
  
  /* list groups */
  .list-group-item{background:var(--bg-surface); border-color:var(--bd-hairline)}
  .list-group-item:hover{background:var(--bg-surface-2)}
  
  /* alerts/badges */
  .alert{border:1px solid var(--bd-hairline); background:var(--bg-surface)}
  .badge{border-radius:999px}
  
  /* progress */
  .progress{background:var(--bg-surface-2); border:1px solid var(--bd-hairline)}
  .progress-bar{background:var(--brand)}

  /* timelines */
  .timeline{list-style:none;padding:0;margin:0;position:relative;}
  .timeline::before{content:"";position:absolute;left:14px;top:0;bottom:0;width:2px;background:var(--bd-hairline);}
  .timeline-item{position:relative;padding-left:44px;margin-bottom:1.5rem;}
  .timeline-point{position:absolute;left:6px;top:2px;width:16px;height:16px;border-radius:999px;background:var(--brand);box-shadow:0 0 0 4px color-mix(in oklab,var(--brand) 20%,transparent);}
  .timeline-content{background:var(--bg-surface);border:1px solid var(--bd-hairline);border-radius:14px;padding:12px 16px;box-shadow:var(--shadow);}
  
  /* modals/tooltips */
  .modal-content{background:var(--bg-surface); border:1px solid var(--bd-hairline); box-shadow:var(--shadow)}
  .tooltip .tooltip-inner{background:#0E151A;color:#fff;border:1px solid #0E151A}

  /* utilities */
  .text-muted,.muted{color:var(--fg-2)!important}
  .shadow-soft{box-shadow:var(--shadow)}

/* ==========================================================================
   Onboarding Glacier Mint theme overrides
   ========================================================================== */
body.onboarding-body{
  background:radial-gradient(circle at top left,
    color-mix(in oklab, var(--brand) 32%, white) 0%,
    color-mix(in oklab, var(--bg-body) 90%, var(--brand) 12%) 55%,
    var(--bg-body) 100%) !important;
  color:var(--fg) !important;
}
body.onboarding-body .onboarding-shell{background:transparent !important;}
body.onboarding-body .onboarding-sidebar{
  background:linear-gradient(165deg,
    color-mix(in oklab, var(--brand) 85%, #083d33) 0%,
    color-mix(in oklab, var(--brand-hover) 78%, #0C1520) 100%) !important;
  border-right:1px solid color-mix(in oklab, var(--brand) 35%, white) !important;
  color:rgba(255,255,255,0.94) !important;
  box-shadow:0 24px 48px rgba(12,21,32,0.22);
}
body.onboarding-body .onboarding-logo{color:rgba(255,255,255,0.95) !important;}
body.onboarding-body .onboarding-logo span.badge{
  background:color-mix(in oklab, rgba(255,255,255,0.9) 70%, transparent) !important;
  color:var(--brand-hover) !important;
}
body.onboarding-body .onboarding-progress{color:rgba(255,255,255,0.78) !important;}
body.onboarding-body .onboarding-progress-bar{
  background:color-mix(in oklab, rgba(255,255,255,0.65) 75%, transparent) !important;
}
body.onboarding-body .onboarding-progress-bar span{
  background:linear-gradient(90deg, var(--brand), color-mix(in oklab, var(--brand-hover) 70%, white)) !important;
}
body.onboarding-body .insight-card{
  background:color-mix(in oklab, rgba(255,255,255,0.16) 70%, transparent) !important;
  border:1px solid color-mix(in oklab, var(--brand) 28%, transparent);
  color:rgba(255,255,255,0.9);
  box-shadow:0 18px 44px rgba(12,21,32,0.22);
}
body.onboarding-body .insight-card .insight-body{color:rgba(238,247,244,0.78) !important;}
body.onboarding-body .onboarding-main{
  background:linear-gradient(140deg, var(--bg-surface) 0%, color-mix(in oklab, var(--bg-body) 86%, white) 65%, #FFFFFF 100%) !important;
  color:var(--fg) !important;
}
body.onboarding-body .step-eyebrow{color:color-mix(in oklab, var(--brand) 45%, var(--fg-2)) !important;}
body.onboarding-body .choice-grid .choice-tile{
  border:1px solid color-mix(in oklab, var(--brand) 16%, var(--bd-hairline)) !important;
  background:var(--bg-surface) !important;
  box-shadow:0 12px 32px rgba(12,21,32,0.08) !important;
  color:var(--fg) !important;
}
body.onboarding-body .choice-grid .choice-tile.active{
  border-color:var(--brand) !important;
  box-shadow:0 20px 46px color-mix(in oklab, var(--brand) 28%, rgba(12,21,32,0.25)) !important;
  background:color-mix(in oklab, var(--brand) 15%, #FFFFFF) !important;
}
body.onboarding-body .choice-grid .choice-tile span.label{color:var(--fg) !important;}
body.onboarding-body .choice-grid .choice-tile span.caption{color:var(--fg-2) !important;}
body.onboarding-body .pill-set .pill{
  border:1px solid color-mix(in oklab, var(--brand) 18%, var(--bd-hairline)) !important;
  background:var(--bg-surface) !important;
  color:var(--fg) !important;
}
body.onboarding-body .pill-set .pill.active{
  background:var(--brand) !important;
  border-color:var(--brand) !important;
  color:#0E151A !important;
  box-shadow:0 14px 36px color-mix(in oklab, var(--brand) 30%, rgba(12,21,32,0.18)) !important;
}
body.onboarding-body .question-card{
  border:1px solid color-mix(in oklab, var(--brand) 18%, var(--bd-hairline)) !important;
  background:var(--bg-surface) !important;
  box-shadow:0 14px 36px rgba(12,21,32,0.08) !important;
}
body.onboarding-body .question-text{color:var(--fg) !important;}
body.onboarding-body .question-actions button{
  border:1px solid color-mix(in oklab, var(--brand) 14%, var(--bd-hairline)) !important;
  background:color-mix(in oklab, var(--bg-surface-2) 92%, white) !important;
  color:color-mix(in oklab, var(--fg) 80%, var(--fg-2)) !important;
}
body.onboarding-body .question-actions button.active{
  background:var(--brand) !important;
  border-color:var(--brand) !important;
  color:#0E151A !important;
  box-shadow:0 12px 32px color-mix(in oklab, var(--brand) 25%, rgba(12,21,32,0.18));
}
body.onboarding-body .summary-card{
  background:var(--bg-surface) !important;
  border:1px solid color-mix(in oklab, var(--brand) 18%, var(--bd-hairline)) !important;
  box-shadow:0 24px 50px rgba(12,21,32,0.1) !important;
  color:var(--fg) !important;
}
body.onboarding-body .summary-card h3{color:var(--fg) !important;}
body.onboarding-body .summary-card ul{color:var(--fg-2) !important;}
body.onboarding-body .plan-toggle{
  border:1px solid color-mix(in oklab, var(--brand) 20%, var(--bd-hairline)) !important;
  background:color-mix(in oklab, var(--brand) 10%, var(--bg-surface)) !important;
}
body.onboarding-body .plan-toggle button{color:color-mix(in oklab, var(--fg) 78%, var(--fg-2)) !important;}
body.onboarding-body .plan-toggle button.active{
  background:var(--bg-surface) !important;
  color:var(--brand) !important;
  box-shadow:0 10px 28px color-mix(in oklab, var(--brand) 26%, rgba(12,21,32,0.2)) !important;
}
body.onboarding-body .plan-grid .plan-card{
  border:2px solid color-mix(in oklab, var(--brand) 12%, var(--bd-hairline)) !important;
  background:var(--bg-surface) !important;
  box-shadow:0 20px 44px rgba(12,21,32,0.09) !important;
}
body.onboarding-body .plan-grid .plan-card.active{
  border-color:var(--brand) !important;
  box-shadow:0 28px 60px color-mix(in oklab, var(--brand) 28%, rgba(12,21,32,0.22)) !important;
  background:color-mix(in oklab, var(--brand) 12%, #FFFFFF) !important;
}
body.onboarding-body .plan-grid .plan-card .plan-price{color:color-mix(in oklab, var(--fg) 85%, var(--brand) 15%) !important;}
body.onboarding-body .plan-grid .plan-card ul{color:var(--fg-2) !important;}
body.onboarding-body .billing-form{
  background:color-mix(in oklab, var(--bg-surface) 95%, white) !important;
  border:1px solid color-mix(in oklab, var(--brand) 16%, var(--bd-hairline)) !important;
  box-shadow:0 1px 0 rgba(255,255,255,0.6) inset;
}
body.onboarding-body .billing-form label{color:color-mix(in oklab, var(--fg-2) 70%, var(--brand) 25%) !important;}
body.onboarding-body .billing-form input{
  border:1px solid color-mix(in oklab, var(--brand) 14%, var(--bd-hairline)) !important;
  background:var(--bg-surface) !important;
  color:var(--fg) !important;
}
body.onboarding-body .billing-form input:focus{
  border-color:var(--brand) !important;
  box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 35%, rgba(189,239,231,0.9)) !important;
}
body.onboarding-body .legal-box{
  background:color-mix(in oklab, var(--bg-surface) 94%, white) !important;
  border:1px solid color-mix(in oklab, var(--brand) 12%, var(--bd-hairline)) !important;
  color:var(--fg) !important;
}
body.onboarding-body .step-actions .btn-secondary{
  border:1px solid color-mix(in oklab, var(--brand) 18%, var(--bd-hairline)) !important;
  color:color-mix(in oklab, var(--fg) 78%, var(--fg-2)) !important;
  background:color-mix(in oklab, var(--bg-surface) 92%, white) !important;
}
body.onboarding-body .step-actions .btn-primary{
  background:linear-gradient(135deg,
    color-mix(in oklab, var(--brand) 88%, #0E151A) 0%,
    color-mix(in oklab, var(--brand-hover) 88%, #0E151A) 100%) !important;
  color:#0E151A !important;
  box-shadow:0 18px 42px color-mix(in oklab, var(--brand) 32%, rgba(12,21,32,0.24)) !important;
}
body.onboarding-body .step-actions .btn-primary:not(:disabled):hover{
  box-shadow:0 24px 54px color-mix(in oklab, var(--brand) 36%, rgba(12,21,32,0.28)) !important;
}
body.onboarding-body .alert-banner{
  background:color-mix(in oklab, var(--bg-surface) 95%, white) !important;
  border:1px solid color-mix(in oklab, var(--danger) 35%, white) !important;
  color:color-mix(in oklab, var(--danger) 88%, #301010) !important;
}
body.onboarding-body .onboarding-sidebar a,
body.onboarding-body .onboarding-sidebar strong{color:rgba(255,255,255,0.94) !important;}
body.onboarding-body .onboarding-sidebar .insight-card strong{color:rgba(255,255,255,0.98) !important;}


  
  
  @media (prefers-reduced-motion:reduce){*{transition:none!important}}

  /* ==========================================================================
   CHROME: Topbar + Sidebar (compact icons → expand on hover)
   ========================================================================== */

/* Layout variables */
:root{
  --topbar-h: 56px;
  --sidebar-collapsed: 72px;  /* narrow icon rail */
  --sidebar-expanded: 240px;  /* width on hover */
}

/* Top bar */
.app-topbar{
  position: fixed; inset: 0 0 auto 0;
  height: var(--topbar-h);
  background: color-mix(in oklab, var(--bg-surface) 85%, transparent);
  backdrop-filter: blur(16px);
  border-bottom: 1px solid color-mix(in oklab, var(--bd-hairline) 65%, transparent);
  box-shadow: 0 12px 28px rgba(12,21,32,0.08);
  display: grid;
  grid-template-columns: 56px 1fr 56px; /* burger | center | right */
  align-items: center;
  z-index: 1020;
  transition: background .2s ease, box-shadow .2s ease;
}
.app-topbar::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0));
  pointer-events:none;
}
.topbar-burger{
  margin-left: 8px;
  background: transparent; border: 0; font-size: 1.6rem; line-height: 1;
  color: var(--fg-2);
  transition: color .16s ease, transform .16s ease;
}
.topbar-burger:hover{ color: var(--fg); transform: translateY(-1px); }
.topbar-logo{
  justify-self: center; text-decoration: none; color: var(--fg);
  display: inline-flex; align-items: center; gap: .5rem; font-weight: 600;
}
.topbar-right{ justify-self: end; padding-right: 8px; }

@media (max-width: 767.98px){
  :root{ --topbar-h: 64px; }
  .app-topbar{
    grid-template-columns: 48px 1fr 48px;
    padding-inline: clamp(0.75rem, 4vw, 1.25rem);
  }
  .topbar-logo{
    font-size: 0.95rem;
    gap: 0.4rem;
  }
}

/* Sidebar container */
.app-sidebar{
  position: fixed; top: var(--topbar-h); left: 0;
  height: calc(100vh - var(--topbar-h));
  width: var(--sidebar-collapsed);
  background: var(--bg-surface);
  border-right: 1px solid var(--bd-hairline);
  box-shadow: var(--shadow);
  display: flex; flex-direction: column;
  overflow: hidden;
  transition: width .18s ease;
  z-index: 1010;
}

/* Expand on hover (desktop only) */
@media (hover:hover){
  .app-sidebar:hover{ width: var(--sidebar-expanded); }
  .app-sidebar:hover .label{ opacity: 1; transform: translateX(0); }
}

/* Navigation items */
.app-nav{ padding: 8px; display: flex; flex-direction: column; gap: 4px; }
.app-nav-item{
  display: flex; align-items: center; gap: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  color: var(--fg);
  text-decoration: none;
  transition: background .16s ease, transform .16s ease, box-shadow .16s ease, color .16s ease;
}
.app-nav-item i{ font-size: 1.25rem; width: 24px; text-align: center; color: var(--fg-2); }
.app-nav-item .label{
  white-space: nowrap; opacity: 0; transform: translateX(-8px);
  transition: opacity .16s ease, transform .16s ease;
}

@media (max-width: 991.98px){
  .app-nav{ padding: 16px; gap: 8px; }
  .app-nav-item{ padding: 14px 16px; border-radius: 16px; }
  .app-nav-item i{ font-size: 1.2rem; }
}

/* Active + hover states */
.app-nav-item:hover{
  background: var(--bg-surface-2);
  transform: translateY(-1px);
}
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 12%, white);
  color: var(--fg);
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 20%, transparent);
}
.app-nav-item.active i{ color: var(--brand); }

/* Spacer + signout at bottom */
.app-nav-spacer{ flex: 1 1 auto; }
.app-nav-item.signout{ color: var(--danger); }
.app-nav-item.signout i{ color: var(--danger); }

/* Main page content spacing */
body{ padding-top: var(--topbar-h); padding-left: var(--sidebar-collapsed); }
/* On hover we overlay the expanded sidebar (no content shift). If you prefer pushing content,
   uncomment the rule below to push when expanded:
   .app-sidebar:hover ~ main, .app-sidebar:hover ~ .container { margin-left: calc(var(--sidebar-expanded) - var(--sidebar-collapsed)); }
*/

/* Mobile: sidebar slides over content when open */
@media (max-width: 991.98px){
  body{ padding-left: 0; }            /* no reserved rail on mobile */
  .app-sidebar{
    transform: translateX(-100%);
    width: var(--sidebar-expanded);   /* open width on mobile */
  }
  body.sidebar-open .app-sidebar{
    transform: translateX(0);
    transition: transform .2s ease;
  }
}

/* Make labels visible when there's enough width (≥ expanded) */
@media (min-width: 992px){
  /* Keep labels hidden by default; they appear on hover (see media above) */
}

/* Icon font (Bootstrap Icons) sizing reset if needed */
.bi{ vertical-align: -0.125em; }

/* Optional: subtle backdrop when sidebar is open on mobile */
@media (max-width: 991.98px){
  body.sidebar-open::after{
    content: ""; position: fixed; inset: var(--topbar-h) 0 0 0; 
    background: rgba(0,0,0,.25); backdrop-filter: blur(1px);
    z-index: 1005;
  }
}

/* ===== Sidebar Section Titles & Dividers ===== */

/* Non-interactive title row */
.app-nav-title{
  display:flex; align-items:center; gap:12px;
  padding:8px 12px; margin-top:6px; margin-bottom:2px;
  color: var(--fg-2);
  font-size:.78rem; font-weight:700; text-transform:uppercase; letter-spacing:.06em;
  pointer-events:none;                 /* not clickable */
  user-select:none;
}

/* Title icon (optional) */
.app-nav-title i{
  font-size:1rem; width:24px; text-align:center; color: var(--fg-2);
}

/* Title label reveals on expand (same motion as items) */
.app-nav-title .label{
  white-space:nowrap; opacity:0; transform:translateX(-8px);
  transition:opacity .16s ease, transform .16s ease;
}
@media (hover:hover){
  .app-sidebar:hover .app-nav-title .label{ opacity:1; transform:translateX(0) }
}

/* Hairline divider between sections */
.app-nav-sep{
  height:1px; background:var(--bd-hairline);
  margin:8px 10px;
  border-radius:1px;
  opacity:.9;
}

/* ===========================================================
   SIDEBAR POLISH — icons, titles, and sign-out button
   =========================================================== */

/* --- Consistent icon slot for every row (items + titles) --- */
.app-nav-item i,
.app-nav-title i{
  width: 28px;            /* fixed icon lane */
  min-width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  font-size: 1.15rem;
  color: var(--fg-2);
  transition: color .16s ease, transform .16s ease, background-color .16s ease;
}

/* Hover/active color for icons (keeps visibility when collapsed) */
.app-nav-item:hover i{ color: var(--brand); transform: translateY(-1px); }
.app-nav-item.active i{ color: var(--brand); }

/* Title row: subtle, non-interactive */
.app-nav-title{
  display:flex; align-items:center; gap:12px;
  padding:8px 12px; margin-top:6px; margin-bottom:2px;
  color: var(--fg-2); font-size:.78rem; font-weight:700;
  text-transform:uppercase; letter-spacing:.06em;
  user-select:none; pointer-events:none;
}

/* Label reveal behavior (collapsed: just icons; hover to show labels) */
.app-sidebar .label{ opacity:0; transform:translateX(-8px); white-space:nowrap; transition:opacity .16s ease, transform .16s ease; }
@media (hover:hover){
  .app-sidebar:hover .label{ opacity:1; transform:translateX(0); }
}

/* Hairline dividers between sections */
.app-nav-sep{
  height:1px; background:var(--bd-hairline);
  margin:8px 10px; border-radius:1px; opacity:.9;
}

/* Active item highlight (subtle brand tint + vertical bar) */
.app-nav-item{ position: relative; }
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 10%, var(--bg-surface));
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 18%, transparent);
}
.app-nav-item.active::before{
  content:""; position:absolute; left:6px; top:8px; bottom:8px; width:3px;
  background: var(--brand); border-radius: 2px;
}

/* --- Sign out (bottom) — on-theme, sleek danger treatment --- */
.app-nav-item.signout{
  position: relative;
  margin: 8px;               /* pulls it in from the rail edge */
  margin-top: 4px;
  padding: 10px 12px;
  background: color-mix(in oklab, var(--danger) 6%, var(--bg-surface));
  border: 1px solid color-mix(in oklab, var(--danger) 18%, var(--bd-hairline));
  color: var(--danger);
  box-shadow: 0 6px 16px color-mix(in oklab, var(--danger) 12%, transparent);
  border-radius: 12px;       /* same radius as other items */
}
.app-nav-item.signout i{ color: var(--danger); }
.app-nav-item.signout:hover{
  background: color-mix(in oklab, var(--danger) 12%, var(--bg-surface));
  transform: translateY(-1px);
}
.app-nav-item.signout:active{ transform: translateY(0); }

/* Subtle top divider “above” the signout area */
.app-nav-item.signout::before{
  content:""; position:absolute; left:-8px; right:-8px; top:-12px; height:1px;
  background: var(--bd-hairline); border-radius:1px; opacity:.9;
}

/* Keyboard focus (clean, accessible ring) */
.app-nav-item:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px var(--focus);
}

/* Optional: slightly lighter hover for standard items to match the signout feel */
.app-nav-item:hover{
  background: var(--bg-surface-2);
  transform: translateY(-1px);
}
.app-nav-item:active{ transform: translateY(0); }

/* ===========================================================
   SIDEBAR — Collapsed icon rail that still looks full
   Keeps icons visible & centered when collapsed; labels reveal on hover.
   Works with your existing .app-sidebar hover-to-expand behavior.
   =========================================================== */

/* Fixed icon lane + subtle “chip” background */
.app-nav-item i,
.app-nav-title i{
  width: 28px;
  min-width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  font-size: 1.15rem;
  color: var(--fg-2);
  border-radius: 8px;
  background: var(--bg-surface-2);
  transition: color .16s ease, background-color .16s ease, transform .16s ease;
}

/* Hover/active emphasis for icons */
.app-nav-item:hover i{
  color: var(--brand);
  background: color-mix(in oklab, var(--brand) 14%, var(--bg-surface-2));
  transform: translateY(-1px);
}
.app-nav-item.active i{
  color: var(--brand);
  background: color-mix(in oklab, var(--brand) 18%, #fff);
}

/* Collapsed state: center icons, hide labels cleanly */
.app-sidebar:not(:hover) .app-nav-item,
.app-sidebar:not(:hover) .app-nav-title{
  justify-content: center;
  gap: 0;
}
.app-sidebar:not(:hover) .app-nav-item{ padding: 10px 0; }
.app-sidebar:not(:hover) .app-nav-title{ padding: 6px 0; }

/* Hide the text labels while collapsed (but keep accessible titles) */
.app-sidebar:not(:hover) .label{
  width: 0;
  opacity: 0;
  transform: translateX(-8px);
  overflow: hidden;
  white-space: nowrap;
  pointer-events: none;
}

/* Dividers in collapsed mode: tighter margins so they’re still visible */
.app-sidebar:not(:hover) .app-nav-sep{
  margin: 8px 18px;
}

/* Active row highlight (subtle brand tint + indicator bar) */
.app-nav-item{ position: relative; }
.app-nav-item.active{
  background: color-mix(in oklab, var(--brand) 10%, var(--bg-surface));
  box-shadow: 0 4px 14px color-mix(in oklab, var(--brand) 18%, transparent);
}
.app-nav-item.active::before{
  content:""; position:absolute; left:6px; top:8px; bottom:8px; width:3px;
  background: var(--brand); border-radius: 2px;
}

/* Sign out button — keeps icon visible & polished in collapsed state too */
.app-nav-item.signout{
  margin: 8px;
  padding: 10px 12px;
  background: color-mix(in oklab, var(--danger) 6%, var(--bg-surface));
  border: 1px solid color-mix(in oklab, var(--danger) 18%, var(--bd-hairline));
  color: var(--danger);
  box-shadow: 0 6px 16px color-mix(in oklab, var(--danger) 12%, transparent);
  border-radius: 12px;
}
.app-nav-item.signout i{ color: var(--danger); }
.app-sidebar:not(:hover) .app-nav-item.signout{ padding: 10px 0; } /* center icon when collapsed */
.app-nav-item.signout:hover{
  background: color-mix(in oklab, var(--danger) 12%, var(--bg-surface));
  transform: translateY(-1px);
}
.app-nav-item.signout:active{ transform: translateY(0); }
.app-nav-item.signout::before{
  content:""; position:absolute; left:-8px; right:-8px; top:-12px; height:1px;
  background: var(--bd-hairline); border-radius:1px; opacity:.9;
}

/* Labels reveal on expand (already handled elsewhere); keep the transition smooth */
.app-sidebar .label{
  transition: opacity .16s ease, transform .16s ease, width .16s ease;
}

/* === Upload button inline spinner overlay (on-theme, subtle) === */
#uploadBtn {
  position: relative;
  overflow: hidden;
}

/* Loading state toggled by JS */
#uploadBtn.btn-is-loading {
  pointer-events: none;
  opacity: .9;
}

/* The overlay that gently covers the button while uploading */
#uploadBtn.btn-is-loading::after {
  content: "";
  position: absolute;
  inset: 0;
  background: color-mix(in oklab, var(--bg-surface) 70%, white);
  /* slight blur for a modern feel */
  backdrop-filter: blur(2px);
}

/* The spinner “wheel” centered on the button */
#uploadBtn.btn-is-loading::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  width: 20px; height: 20px;
  border-radius: 50%;
  border: 2px solid color-mix(in oklab, var(--brand) 20%, var(--bd-hairline));
  border-top-color: var(--brand);
  animation: btnspin .8s linear infinite;
  z-index: 1;
}

@keyframes btnspin { to { transform: rotate(360deg); } }

/* (Optional) small progress text in the bottom-right of the button */
#uploadBtn .btn-progress-pct {
  position: absolute; right: 8px; bottom: 6px;
  font-size: .75rem; font-weight: 600; color: var(--fg-2);
  pointer-events: none; user-select: none;
  opacity: 0; transition: opacity .15s ease;
}
#uploadBtn.btn-show-pct .btn-progress-pct { opacity: 1; }

/* Card-top progress bar (2px) */
.card-uploading {
  position: relative;
}
.card-uploading::before {
  content:""; position:absolute; left:0; top:0; height:2px; width: var(--upload-w, 0%);
  background: var(--brand); border-radius: 2px 2px 0 0;
  box-shadow: 0 2px 10px color-mix(in oklab, var(--brand) 30%, transparent);
  transition: width .15s ease;
}

/* ===========================================================
   Documents: Upload UI polish
   - Spinner overlay on the clicked Upload button
   - Thin progress bar across the top of the table region
   =========================================================== */

/* Row upload button inline spinner overlay (generic, no IDs needed) */
.btn[data-action="upload"] { position: relative; overflow: hidden; }

.btn[data-action="upload"].is-loading {
  pointer-events: none;
  opacity: .9;
}
.btn[data-action="upload"].is-loading::after {
  content: "";
  position: absolute; inset: 0;
  background: color-mix(in oklab, var(--bg-surface) 70%, white);
  backdrop-filter: blur(2px);
}
.btn[data-action="upload"].is-loading::before {
  content: "";
  position: absolute; inset: 0; margin: auto;
  width: 20px; height: 20px; border-radius: 50%;
  border: 2px solid color-mix(in oklab, var(--brand) 20%, var(--bd-hairline));
  border-top-color: var(--brand);
  animation: btnspin .8s linear infinite;
  z-index: 1;
}
@keyframes btnspin { to { transform: rotate(360deg); } }

/* Thin progress bar across the top of the table wrapper */
.table-uploading { position: relative; }
.table-uploading::before {
  content:"";
  position:absolute; left:0; top:0; height:2px; width: var(--upload-w, 0%);
  background: var(--brand);
  border-radius: 2px 2px 0 0;
  box-shadow: 0 2px 10px color-mix(in oklab, var(--brand) 30%, transparent);
  transition: width .15s ease;
}
/* Icon-only buttons: perfect square, centered icon */
.btn-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 34px;       /* matches .btn-sm height nicely */
  height: 34px;
  padding: 0;        /* no extra padding */
}
.btn-icon i{
  font-size: 1rem;   /* tweak if you prefer larger/smaller icons */
  line-height: 1;
}

/* ===================== Billing Cycle Toggle (smaller) ===================== */
:root {
  --toggle-accent: var(--brand, var(--bs-success, #198754));
  --toggle-fg: var(--fg-2, #6c757d);
  --toggle-bg: var(--bg-surface, #ffffff);
  --toggle-border: color-mix(in oklab, var(--toggle-accent) 80%, #0000);
}

.billing-toggle {
  display: flex;
  justify-content: flex-end;
}

/* Smaller, sleeker container */
.billing-toggle__inner {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  isolation: isolate;
  width: 260px;                 /* was 320px */
  min-height: 38px;             /* was 44px */
  background: var(--toggle-bg);
  border: 2px solid var(--toggle-border);
  border-radius: 9999px;
  box-shadow: 0 1px 6px rgba(0,0,0,.06), inset 0 0 0 1px rgba(0,0,0,.03);
  padding: 2px;                 /* was 3px */
}

.billing-toggle__option {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: 6px 8px;             /* was 8px 10px */
  font-weight: 600;
  font-size: 0.9rem;            /* was 0.95rem */
  line-height: 1.1;
  color: var(--toggle-fg);
  cursor: pointer;
  user-select: none;
  transition: color .18s ease, transform .18s ease;
}
.billing-toggle__option:hover { transform: translateY(-1px); }

/* Move the "Save 10–15%" under 'Yearly' */
.billing-toggle__option .save {
  display: block;               /* forces a new line */
  margin-top: 2px;
  font-size: 0.72rem;           /* slightly smaller */
  font-weight: 700;
  line-height: 1;
  padding: .12rem .35rem;
  border-radius: .4rem;
  margin-left: auto;            /* center within label */
  margin-right: auto;
  background: color-mix(in oklab, var(--toggle-accent) 12%, #fff);
  color: color-mix(in oklab, var(--toggle-accent) 85%, #000);
}

/* The moving pill (smaller to match container) */
.billing-toggle__knob {
  position: absolute;
  top: 2px;                     /* was 3px */
  bottom: 2px;                  /* was 3px */
  left: 2px;                    /* was 3px */
  width: calc(50% - 4px);       /* was calc(50% - 6px) */
  border-radius: 9999px;
  background: var(--toggle-accent);
  box-shadow:
    inset 0 -1px 0 rgba(0,0,0,.12),
    0 4px 14px color-mix(in oklab, var(--toggle-accent) 40%, transparent);
  transition: transform .22s cubic-bezier(.2,.8,.2,1), box-shadow .22s ease;
  z-index: 0;
}

.billing-toggle__inner:focus-within {
  box-shadow:
    0 1px 8px rgba(0,0,0,.08),
    0 0 0 4px color-mix(in oklab, var(--toggle-accent) 20%, transparent);
}

/* Checked state: move knob + white active text */
#cycle-monthly:checked ~ .billing-toggle__inner .billing-toggle__knob { transform: translateX(0%); }
#cycle-yearly:checked  ~ .billing-toggle__inner .billing-toggle__knob { transform: translateX(100%); }

#cycle-monthly:checked ~ .billing-toggle__inner .opt-month { color: #fff; }
#cycle-yearly:checked  ~ .billing-toggle__inner .opt-year  { color: #fff; }

/* Keyboard focus */
#cycle-monthly:focus-visible + #cycle-yearly + .billing-toggle__inner,
#cycle-yearly:focus-visible  ~ .billing-toggle__inner {
  outline: none;
  box-shadow:
    0 1px 8px rgba(0,0,0,.08),
    0 0 0 4px color-mix(in oklab, var(--toggle-accent) 25%, transparent);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .billing-toggle__option,
  .billing-toggle__knob { transition: none !important; }
}


  
  